(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],l=0,p=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==c[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c={app:0},o=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-113b8f16":"3ae83ae8","chunk-114429a9":"344c254e","chunk-3f96c2ea":"d35796c9","chunk-1e0ae2dc":"d73ea31d","chunk-6eb85b91":"1f7ba786","chunk-13a5b99a":"53886b4d","chunk-6f039124":"58d3d0f6","chunk-2d130750":"d4de6dd0","chunk-3d60b54b":"7838a2a2","chunk-6c1cdbbc":"de292164","chunk-a20fe54c":"6b4babca","chunk-b338e03a":"86c785d0","chunk-f5f909a8":"6aabe8bf","chunk-72c1cfb7":"b7c5de10","chunk-49a1c13c":"3ebd28e0"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-113b8f16":1,"chunk-114429a9":1,"chunk-3f96c2ea":1,"chunk-1e0ae2dc":1,"chunk-13a5b99a":1,"chunk-6f039124":1,"chunk-2d130750":1,"chunk-3d60b54b":1,"chunk-6c1cdbbc":1,"chunk-a20fe54c":1,"chunk-b338e03a":1,"chunk-f5f909a8":1,"chunk-49a1c13c":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-113b8f16":"31b85913","chunk-114429a9":"31b85913","chunk-3f96c2ea":"8f8d2fa9","chunk-1e0ae2dc":"7ef23dc4","chunk-6eb85b91":"31d6cfe0","chunk-13a5b99a":"ea2a4d95","chunk-6f039124":"d4481170","chunk-2d130750":"0c3515b7","chunk-3d60b54b":"6e51a471","chunk-6c1cdbbc":"df861241","chunk-a20fe54c":"d5f43ae8","chunk-b338e03a":"ee33056c","chunk-f5f909a8":"ee33056c","chunk-72c1cfb7":"31d6cfe0","chunk-49a1c13c":"de9799bf"}[e]+".css",c=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===c))return t()}var p=document.getElementsByTagName("style");for(u=0;u<p.length;u++){s=p[u],l=s.getAttribute("data-href");if(l===r||l===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var p=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",p.name="ChunkLoadError",p.type=r,p.request=a,n[1](p)}c[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02da":function(e,t,n){"use strict";n("b20d")},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[e.showAppBar?n("AppBar"):e._e(),e.showAppBar?n("Navbar"):e._e(),n("v-main",[n("router-view")],1),n("v-footer",{attrs:{app:""}})],1)},c=[],o=(n("96cf"),n("1da1")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"primary",dense:"",dark:"",app:"",fixed:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.sw_drawer()}}}),n("v-toolbar-title",{staticClass:"title"},[e._v("VENDING MACHINE")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.logout()}}},[n("v-icon",[e._v("logout")])],1)],1)],1)},i=[],s=n("5530"),l=n("2f62"),p={data:function(){return{}},computed:Object(s["a"])({},Object(l["c"])({getterAppBarDrawer:"AppBar/drawer"})),methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])({actionAppBarDrawer:"AppBar/drawer"})),{},{sw_drawer:function(){console.log(this.sw_drawer,"sw_drawer","start"),this.actionAppBarDrawer(this.getterAppBarDrawer)},logout:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.clear(),location.reload();case 2:case"end":return e.stop()}}),e)})))()}})},f=p,h=n("2877"),d=n("6544"),b=n.n(d),m=n("40dc"),k=n("5bc1"),v=n("8336"),g=n("132d"),w=n("2fa4"),y=n("2a7f"),x=Object(h["a"])(f,u,i,!1,null,null,null),O=x.exports;b()(x,{VAppBar:m["a"],VAppBarNavIcon:k["a"],VBtn:v["a"],VIcon:g["a"],VSpacer:w["a"],VToolbarTitle:y["a"]});var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{width:"220",value:e.getterAppBarDrawer,app:"",clipped:"",fixed:"",stateless:""}},[n("v-list",e._l(e.tabs,(function(t){return n("v-list-group",{key:t.title,attrs:{"append-icon":t.children?"mdi-chevron-down":"","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[t.to?n("v-list-item",{attrs:{to:t.to,"active-class":"primary white--text",link:""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"itemTitle",domProps:{textContent:e._s(t.title)}})],1)],1):n("v-list-item",{attrs:{dense:""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"itemTitle",domProps:{textContent:e._s(t.title)}})],1)],1)]},proxy:!0}],null,!0),model:{value:t.route,callback:function(n){e.$set(t,"route",n)},expression:"tab.route"}},e._l(t.children,(function(t){return n("v-list-item",{key:t.title,staticClass:"itemContent",attrs:{to:t.to,dense:"",link:"","active-class":"activeTab"}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)})),1)],1)},j=[],E={data:function(){return{tabs:[{title:"ITEM",to:"/item"},{title:"MACHINE",to:"/machine"},{title:"TRANSACTION",to:"/transaction"},{title:"NEARLY OUT OF STOCK",to:"/nearlyoutofstock"}]}},computed:Object(s["a"])({},Object(l["c"])({getterAppBarDrawer:"AppBar/drawer"})),watch:{getterAppBarDrawer:function(){console.log(this.getterAppBarDrawer,"getterAppBarDrawer")}}},_=E,B=(n("02da"),n("8860")),P=n("56b0"),S=n("da13"),T=n("5d23"),C=n("f774"),L=Object(h["a"])(_,A,j,!1,null,null,null),N=L.exports;b()(L,{VList:B["a"],VListGroup:P["a"],VListItem:S["a"],VListItemContent:T["a"],VListItemTitle:T["b"],VNavigationDrawer:C["a"]});var R=n("b628"),I={name:"App",components:{AppBar:O,Navbar:N},data:function(){return{showAppBar:!1}},created:function(){this.chkLogin()},mounted:function(){},methods:{chkLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R["a"].chkLogin();case 3:n=t.sent,n.status&&(e.showAppBar=!0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0,"catch on chkLogin from app");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},D=I,V=(n("89f2"),n("7496")),M=n("553a"),$=n("f6c4"),U=Object(h["a"])(D,a,c,!1,null,null,null),F=U.exports;b()(U,{VApp:V["a"],VFooter:M["a"],VMain:$["a"]});n("d81d"),n("13d5"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0");var z=n("ade3"),q=n("3835");r["a"].use(l["a"]);var H=n("e5ba"),J=H.keys().map((function(e){return[e.replace(/(^.\/)|(\.js$)/g,""),H(e)]})).reduce((function(e,t){var n=Object(q["a"])(t,2),r=n[0],a=n[1];return void 0===a.namespaced&&(a.namespaced=!0),Object(s["a"])(Object(s["a"])({},e),{},Object(z["a"])({},r,a))}),{}),Z=new l["a"].Store({modules:J,strict:!0}),G=n("8c4f");r["a"].use(G["a"]);var K=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].chkLogin();case 2:a=e.sent,c="/login"===t.path,console.log(c,"loginUrl",a),a.status&&c?(r("/machine"),console.log("pass")):a.status||!a.status&&c?(r(),console.log("pass 2")):(console.log("go to login"),r("/login"));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y=[{path:"/",name:"Machine",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-f5f909a8")]).then(n.bind(null,"5cfb"))},beforeEnter:K},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6f039124"),n.e("chunk-72c1cfb7")]).then(n.bind(null,"a55b"))},beforeEnter:K},{path:"/item",name:"Item",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-a20fe54c")]).then(n.bind(null,"f0df"))},beforeEnter:K},{path:"/machine",name:"Machine",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-f5f909a8")]).then(n.bind(null,"5cfb"))},beforeEnter:K},{path:"/machine/model",name:"Machine Model",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-6c1cdbbc")]).then(n.bind(null,"ec21"))},beforeEnter:K},{path:"/machineitem/:machineId",name:"Machine Item",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-3d60b54b")]).then(n.bind(null,"48c8"))},beforeEnter:K},{path:"/machineitem/:machineId/client",name:"Machine Item Client",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-13a5b99a")]).then(n.bind(null,"7b05"))}},{path:"/transaction",name:"Transaction",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-b338e03a")]).then(n.bind(null,"0d43"))},beforeEnter:K},{path:"/nearlyoutofstock",name:"Nearly Out Of Stock",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-1e0ae2dc"),n.e("chunk-6eb85b91"),n.e("chunk-6f039124"),n.e("chunk-2d130750")]).then(n.bind(null,"e212"))},beforeEnter:K},{path:"/transaction/success",name:"Transaction Success",component:function(){return n.e("chunk-113b8f16").then(n.bind(null,"f148"))},beforeEnter:K},{path:"/transaction/fail",name:"Transaction Fail",component:function(){return n.e("chunk-114429a9").then(n.bind(null,"ec20"))},beforeEnter:K},{path:"*",name:"Not found",component:function(){return Promise.all([n.e("chunk-3f96c2ea"),n.e("chunk-49a1c13c")]).then(n.bind(null,"8cdb"))},beforeEnter:K}],Q=new G["a"]({routes:Y,mode:"history"}),W=Q,X=n("f309");n("d1e78");r["a"].use(X["a"]);var ee=new X["a"]({icons:{iconfont:"md"}}),te=n("bc3a"),ne=n.n(te);r["a"].config.productionTip=!1,r["a"].prototype.$http=ne.a,r["a"].prototype.$http.defaults.baseURL="https://vedingmachinebright.herokuapp.com/";var re=localStorage.getItem("token");re&&re.length&&(re=JSON.parse(localStorage.getItem("token")).token,r["a"].prototype.$http.defaults.headers.common["Authorization"]="Bearer "+re),new r["a"]({store:Z,router:W,vuetify:ee,render:function(e){return e(F)}}).$mount("#app")},"89f2":function(e,t,n){"use strict";n("c9d2")},"8ccb":function(e,t){e.exports={state:{drawer:!0},mutations:{drawer:function(e,t){e.drawer=!t}},actions:{drawer:function(e,t){var n=e.commit;n("drawer",t)}},getters:{drawer:function(e){return e.drawer}}}},b20d:function(e,t,n){},b628:function(e,t,n){"use strict";n("99af"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("841c"),n("96cf");var r=n("1da1"),a=n("bc3a"),c=n.n(a);t["a"]={get:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0,"catch on get",t),e.t0.response.status;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),post:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e["catch"](0),console.log(e.t0,"catch on post"),403!=e.t0.response.status){e.next=14;break}localStorage.clear(),e.next=15;break;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),patch:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.patch(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e["catch"](0),console.log(e.t0,"catch on patch"),403!=e.t0.response.status){e.next=14;break}localStorage.clear(),e.next=15;break;case 14:return e.abrupt("return",e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e["catch"](0),console.log(e.t0,"catch on delete"),403!=e.t0.response.status){e.next=14;break}localStorage.clear(),e.next=15;break;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),chkEmail:function(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,n=e.match(new RegExp(t,"gim"));return null!=n},chkLogin:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!localStorage.getItem("token")){e.next=14;break}return e.next=4,c.a.post("/api/admin/chkLogin");case 4:if(t=e.sent,200!==t.status||!t.data.status){e.next=9;break}return e.abrupt("return",{status:!0,data:t.data});case 9:return console.log("chk login fail"),localStorage.clear(),e.abrupt("return",{status:!1});case 12:e.next=16;break;case 14:return console.log("Not found token"),e.abrupt("return",{status:!1});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e["catch"](0),console.log(e.t0,"catch : chkLogin"),localStorage.clear(),e.abrupt("return",{status:!1});case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));function t(){return e.apply(this,arguments)}return t}(),qeuryStr:function(e){if(e){var t=e.itemsPerPage*(e.page-1)||0,n=e.itemsPerPage*e.page||10,r=e.sortBy[0]?e.sortBy[0]:"",a=e.sortDesc[0]?1:0,c=e.search?e.search:"",o=e.status?e.status:0,u="?min=".concat(t,"&max=").concat(n,"&sortBy=").concat(r,"&sortDesc=").concat(a);return c&&(u+="&search=".concat(c)),o&&(u+="&status=".concat(o)),u}return""}}},c9d2:function(e,t,n){},e5ba:function(e,t,n){var r={"./AppBar.js":"8ccb"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="e5ba"}});
//# sourceMappingURL=app.e70f3a36.js.map